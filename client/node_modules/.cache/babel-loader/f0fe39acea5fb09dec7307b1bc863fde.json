{"ast":null,"code":"import axios from \"axios\";\nimport { ADD_EVENT, GET_EVENTS, EVENT_ERROR, GET_EVENT, UPDATE_JOINS, UPDATE_INTERESTS } from \"./types\"; //get Events\n\nexport const getEvents = () => async dispatch => {\n  try {\n    const res = await axios.get(\"/api/events\");\n    dispatch({\n      type: GET_EVENTS,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: EVENT_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; //Add Event\n\nexport const addEvent = (formData, navigate) => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n\n  try {\n    const res = await axios.post(`/api/events`, formData, config);\n    dispatch({\n      type: ADD_EVENT,\n      payload: res.data\n    });\n    navigate(\"/events\", {\n      replace: true\n    });\n  } catch (err) {\n    dispatch({\n      type: EVENT_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; //get event\n\nexport const getEvent = id => async dispatch => {\n  try {\n    const res = await axios.get(`/api/events/${id}`);\n    dispatch({\n      type: GET_EVENT,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: EVENT_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; //Add join\n\nexport const addJoin = eventId => async dispatch => {\n  try {\n    const res = await axios.put(`/api/events/join/${eventId}`);\n    dispatch({\n      type: UPDATE_JOINS,\n      payload: {\n        eventId,\n        joins: res.data\n      }\n    });\n  } catch (err) {\n    dispatch({\n      type: EVENT_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; //Add interest\n\nexport const addInterest = eventId => async dispatch => {\n  try {\n    const res = await axios.put(`/api/events/interest/${eventId}`);\n    dispatch({\n      type: UPDATE_INTERESTS,\n      payload: {\n        eventId,\n        interests: res.data\n      }\n    });\n  } catch (err) {\n    dispatch({\n      type: EVENT_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};","map":{"version":3,"sources":["/Users/rionsawabe/HikingSNS/client/src/actions/event.js"],"names":["axios","ADD_EVENT","GET_EVENTS","EVENT_ERROR","GET_EVENT","UPDATE_JOINS","UPDATE_INTERESTS","getEvents","dispatch","res","get","type","payload","data","err","msg","response","statusText","status","addEvent","formData","navigate","config","headers","post","replace","getEvent","id","addJoin","eventId","put","joins","addInterest","interests"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport {\n\tADD_EVENT,\n\tGET_EVENTS,\n\tEVENT_ERROR,\n\tGET_EVENT,\n\tUPDATE_JOINS,\n\tUPDATE_INTERESTS\n} from \"./types\";\n\n//get Events\nexport const getEvents = () => async (dispatch) => {\n\ttry {\n\t\tconst res = await axios.get(\"/api/events\");\n\n\t\tdispatch({\n\t\t\ttype: GET_EVENTS,\n\t\t\tpayload: res.data\n\t\t});\n\t} catch (err) {\n\t\tdispatch({\n\t\t\ttype: EVENT_ERROR,\n\t\t\tpayload: {\n\t\t\t\tmsg: err.response.statusText,\n\t\t\t\tstatus: err.response.status\n\t\t\t}\n\t\t});\n\t}\n};\n\n//Add Event\nexport const addEvent = (formData, navigate) => async (dispatch) => {\n\tconst config = {\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t}\n\t};\n\n\ttry {\n\t\tconst res = await axios.post(`/api/events`, formData, config);\n\n\t\tdispatch({\n\t\t\ttype: ADD_EVENT,\n\t\t\tpayload: res.data\n\t\t});\n\t\tnavigate(\"/events\", { replace: true });\n\t} catch (err) {\n\t\tdispatch({\n\t\t\ttype: EVENT_ERROR,\n\t\t\tpayload: {\n\t\t\t\tmsg: err.response.statusText,\n\t\t\t\tstatus: err.response.status\n\t\t\t}\n\t\t});\n\t}\n};\n\n//get event\nexport const getEvent = (id) => async (dispatch) => {\n\ttry {\n\t\tconst res = await axios.get(`/api/events/${id}`);\n\n\t\tdispatch({\n\t\t\ttype: GET_EVENT,\n\t\t\tpayload: res.data\n\t\t});\n\t} catch (err) {\n\t\tdispatch({\n\t\t\ttype: EVENT_ERROR,\n\t\t\tpayload: {\n\t\t\t\tmsg: err.response.statusText,\n\t\t\t\tstatus: err.response.status\n\t\t\t}\n\t\t});\n\t}\n};\n\n//Add join\nexport const addJoin = (eventId) => async (dispatch) => {\n\ttry {\n\t\tconst res = await axios.put(`/api/events/join/${eventId}`);\n\n\t\tdispatch({\n\t\t\ttype: UPDATE_JOINS,\n\t\t\tpayload: { eventId, joins: res.data }\n\t\t});\n\t} catch (err) {\n\t\tdispatch({\n\t\t\ttype: EVENT_ERROR,\n\t\t\tpayload: {\n\t\t\t\tmsg: err.response.statusText,\n\t\t\t\tstatus: err.response.status\n\t\t\t}\n\t\t});\n\t}\n};\n\n//Add interest\nexport const addInterest = (eventId) => async (dispatch) => {\n\ttry {\n\t\tconst res = await axios.put(`/api/events/interest/${eventId}`);\n\n\t\tdispatch({\n\t\t\ttype: UPDATE_INTERESTS,\n\t\t\tpayload: { eventId, interests: res.data }\n\t\t});\n\t} catch (err) {\n\t\tdispatch({\n\t\t\ttype: EVENT_ERROR,\n\t\t\tpayload: {\n\t\t\t\tmsg: err.response.statusText,\n\t\t\t\tstatus: err.response.status\n\t\t\t}\n\t\t});\n\t}\n};\n"]},"metadata":{},"sourceType":"module"}